<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Haï~ Blog</title>
        <link>https://docs.hai-vr.dev/updates</link>
        <description>Haï~ Blog</description>
        <lastBuildDate>Wed, 21 Aug 2024 03:40:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[☀️ Animator As Code V1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/21/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/21/p0</guid>
            <pubDate>Wed, 21 Aug 2024 03:40:00 GMT</pubDate>
            <description><![CDATA[I am releasing Animator As Code V1.]]></description>
            <content:encoded><![CDATA[<div><p><span></span></p><div class="hai_tag_ZcC4 hai_tag_universal_aJnK">🌊 Any Platform</div><p></p></div>
<p>I am releasing <strong>Animator As Code V1</strong>.</p>
<p>Starting from V1.1.0, all Animator As Code V1 packages are leaving Alpha/Beta.</p>
<p>Animator As Code V1 can now be safely used in public projects that wish to do so.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility-with-projects-that-contain-animator-as-code-v0">Compatibility with projects that contain Animator As Code V0<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#compatibility-with-projects-that-contain-animator-as-code-v0" class="hash-link" aria-label="Direct link to Compatibility with projects that contain Animator As Code V0" title="Direct link to Compatibility with projects that contain Animator As Code V0">​</a></h2>
<p>Animator As Code V1 is designed to be installed even in projects that already have Animator As Code V0.</p>
<p>Animator As Code V0 will not be overwritten by Animator As Code V1. Both installations will act as separate,
non-conflicting installs. Projects like FaceEmo will continue to function properly.</p>
<p>In fact Animator As Code V1 has already been extensively used in my own tools (Prefabulous, ComboGestureExpressions, Vixen).</p>
<p>There is no real need to migrate between V0 and V1, if V0 already provides all the functionality you need in your project.</p>
<p><a href="https://docs.hai-vr.dev/docs/products/animator-as-code/migrating-v0-to-v1">If you choose to migrate, V0 and V1 are almost identical</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features-in-v1-compared-to-v0">Features in V1 compared to V0<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#features-in-v1-compared-to-v0" class="hash-link" aria-label="Direct link to Features in V1 compared to V0" title="Direct link to Features in V1 compared to V0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sub-state-machines">Sub-State Machines<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#sub-state-machines" class="hash-link" aria-label="Direct link to Sub-State Machines" title="Direct link to Sub-State Machines">​</a></h3>
<ul>
<li>Pull major contributions from <a href="https://github.com/galister" target="_blank" rel="noopener noreferrer"><strong>@galister</strong></a> which:<!-- -->
<ul>
<li><strong>Adds support for <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/base#layer-aacfllayer"><strong>sub-state machines</strong></a></strong>, which is important because it enables the creation of states that evaluate multiple transitions within one frame,
which is not possible to do without sub-state machines (with one exception).<!-- -->
<ul>
<li>This trait is already extensively used in <em>ComboGestureExpressions V2</em> and above.</li>
</ul>
</li>
<li>Share functionality of state and sub-state machines.</li>
<li>Share functionality of Int and Float parameters together.</li>
</ul>
</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// When using Sub-State Machines, the Sub-State Machine will evaluate all transitions until</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// it resolves a destination state within one single frame.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This means it can traverse multiple transition conditions at once, no matter how nested</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// the Sub-State Machine is.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This is not doable with just states, so Sub-State Machines have a functional value beyond mere organization.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IntParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"IntA"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IntParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"IntB"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> rootSsm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewSubStateMachine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"UsingNestedSubStateMachines"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// A Sub-State Machine can have other Sub-State Machines created inside them.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// TransitionsFromEntry creates a transition between `subSsm` and the Entry node of the Sub-State Machine it belongs in.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Exits creates a transition between `subSsm` and the Exit node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> subSsm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rootSsm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewSubStateMachine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$"A = </span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subSsm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">TransitionsFromEntry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">When</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsEqualTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subSsm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Exits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subSsm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token interpolation-string string" style="color:#e3116c">$"A = </span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">i</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c"> and B = </span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">{</span><span class="token interpolation-string interpolation expression language-csharp">j</span><span class="token interpolation-string interpolation punctuation" style="color:#393A34">}</span><span class="token interpolation-string string" style="color:#e3116c">"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">TransitionsFromEntry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">When</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsEqualTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Exits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">When</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNotEqualTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Or</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">When</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsNotEqualTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This creates a transition between the Sub-State Machine and itself.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// When that Sub-State Machine exits, it will re-enter itself.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rootSsm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Restarts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="packaging-non-vrchat-projects-and-non-destructive">Packaging, Non-VRChat projects, and non-destructive<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#packaging-non-vrchat-projects-and-non-destructive" class="hash-link" aria-label="Direct link to Packaging, Non-VRChat projects, and non-destructive" title="Direct link to Packaging, Non-VRChat projects, and non-destructive">​</a></h3>
<ul>
<li>Make it usable in <strong>non-VRChat</strong> avatar projects.<!-- -->
<ul>
<li>VRChat-related functionality is now exposed as extension functions in a separate package.</li>
<li>Also, separate destructive functions and non-destructive functions.</li>
<li>Since this no longer requires a VRChat project, this also means it may now be usable in VRChat world projects.</li>
</ul>
</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Animator As Code V1 no longer requires VRChat (compared to V0).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// VRChat-specific functions have been moved to extension methods.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// If you want to use VRChat Avatars functionality, add the `Animator As Code V1 - VRChat` package, and do the following:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Add the following import, which contains extension methods:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">AnimatorAsCode</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">V1</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">VRC</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// To access VRChat parameters, use the following extension method:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> vrcAv3 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Av3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// To access VRChat assets, use the following extension method:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> vrcAssets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">VrcAssets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"UsingVRChat"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vrcAssets</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ProxyForGesture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AacAv3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Av3Gesture</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HandOpen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// VRChat State Behaviours are created through extension methods located in namespace `AnimatorAsCode.V1.VRC`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">TrackingAnimates</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AacAv3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Av3TrackingElement</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RightHand</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Driving</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">driver </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">BoolParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"A"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">TransitionsFromEntry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">When</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vrcAv3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">GestureRight</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">IsEqualTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AacAv3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Av3Gesture</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">HandOpen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Make it more usable in non-destructive components.<!-- -->
<ul>
<li>It is already in use in <em>Prefabulous</em> and <em>Vixen</em>.</li>
</ul>
</li>
<li>Move to packages, for distribution using VCC (and now, ALCOM).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="blendtrees">BlendTrees<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#blendtrees" class="hash-link" aria-label="Direct link to BlendTrees" title="Direct link to BlendTrees">​</a></h3>
<ul>
<li>It is now possible to build Unity <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/base#blend-trees-aacflblendtree"><strong>BlendTree</strong> assets using a fluent interface</a>.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"BlendTrees"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewBlendTree</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FreeformDirectional2D</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"X"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Y"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Center"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Up"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Vector2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">up</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Right"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Down"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Left"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> one </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"One"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">OverrideValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">one</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Direct BlendTree"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewBlendTree</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Direct</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"DrivenByA"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"A"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"AlwaysOn"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> one</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewBlendTree</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Simple1D</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"B"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// In Animator As Code, it is safe to declare points in a Simple1D blend tree in a different order (i.e. 0, 1, -1).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// (In native blend trees, it would not have been safe to do so)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Zero"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Positive"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Negative"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> one</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-animator-controllers">Create Animator Controllers<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#create-animator-controllers" class="hash-link" aria-label="Direct link to Create Animator Controllers" title="Direct link to Create Animator Controllers">​</a></h3>
<ul>
<li>Create new Animator Controllers. This is made specifically for non-destructive workflows, where additional features are built separately,
and then merged by a framework (i.e. Modular Avatar Merge Animator, or VRCFury Full Controller).</li>
<li>Animator As Code V1 has a separate package specifically to create Modular Avatar components, see the section later on this page.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// When creating a new controller, the ContainerMode of the configuration usually needs to be</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// set to either `Container.OnlyWhenPersistenceRequired` or `Container.Everything`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This is because it is not possible to add state behaviours to states unless the Animator Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// is already persisted in the asset database.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> controller </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewAnimatorController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> fx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> controller</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewLayer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vrchat-specific-features">VRChat-specific features<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#vrchat-specific-features" class="hash-link" aria-label="Direct link to VRChat-specific features" title="Direct link to VRChat-specific features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="animatorplayaudio">AnimatorPlayAudio<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#animatorplayaudio" class="hash-link" aria-label="Direct link to AnimatorPlayAudio" title="Direct link to AnimatorPlayAudio">​</a></h3>
<ul>
<li><em>Animator As Code for VRChat</em> adds support for <strong>VRCAnimatorPlayAudio</strong> through the <code>AacFlState.Audio(AudioSource or string, ...)</code> function,
<a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/vrchat#audio-editing-aacvrcfleditanimatorplayaudio">which takes a lambda expression as a parameter</a>.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">AudioSource</span><span class="token plain"> source </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MyAudioSource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// This can be a string instead.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">AudioClip</span><span class="token class-name punctuation" style="color:#393A34">[</span><span class="token class-name punctuation" style="color:#393A34">]</span><span class="token plain"> clips </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MyAudioClips</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"UsingAudio"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Audio</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">source</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> audio </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Get the PlayAudio object if there's a need to edit it directly.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">VRCAnimatorPlayAudio</span><span class="token plain"> vrcAnimatorPlayAudio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> audio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PlayAudio</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// By default, a PlayAudio created through AAC does nothing (unlike a manually created behaviour)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// so you need to invoke anything that is relevant.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        audio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SelectsClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VRC_AnimatorPlayAudio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Order</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Random</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> clips</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetsLooping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">RandomizesPitch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.8f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.2f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">RandomizesVolume</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.5f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// "Replays" means Stop and Play.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// "StartsPlaying" means just Play.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// "StopsPlaying" means just Stop.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// To do neither Stop nor Play, don't invoke anything.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">StartsPlayingOnEnter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">StopsPlayingOnExit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prettier-parameter-drivers">Prettier Parameter Drivers<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#prettier-parameter-drivers" class="hash-link" aria-label="Direct link to Prettier Parameter Drivers" title="Direct link to Prettier Parameter Drivers">​</a></h3>
<ul>
<li>As <strong>VRCAvatarParameterDriver</strong> has evolved over the years, there is now a <strong>dedicated</strong> <code>AacFlState.Driving(...)</code> function, <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/vrchat#driver-editing-aacvrcfleditavatarparameterdriver">which takes a lambda expression as a parameter</a>.</li>
<li>If you invoke <code>AacFlState.Driving(...)</code> multiple times, it will create multiple <strong>VRCAvatarParameterDriver</strong> behaviours on the same state. One may be local, the other not.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"UsingDrivers"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Driving</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">driver </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Copies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"CopySource"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"CopyDestination"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Set"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.3f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Increases</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"IncreaseBy2"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Decreases</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"DecreaseBy3"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Randomizes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Randomizes"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Randomizes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">BoolParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"RandomizesBool"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.25f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 25% chance of being true.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Remaps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"RemapsSource"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"RemapsDestination"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2f</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// This creates a second VRCAvatarParameterDriver in the same behaviour.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Driving</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">driver </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">layer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"SecondDriver"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Locally</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Only this second VRCAvatarParameterDriver is local.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integration-with-modular-avatar-maac">Integration with Modular Avatar (MaAc)<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#integration-with-modular-avatar-maac" class="hash-link" aria-label="Direct link to Integration with Modular Avatar (MaAc)" title="Direct link to Integration with Modular Avatar (MaAc)">​</a></h2>
<p>Using the <em>Animator As Code V1 - Modular Avatar functions</em>, it can create Modular Avatar components.</p>
<ul>
<li>Newly created Animator Controllers can be assigned into a new Modular Avatar Merge Animator.</li>
<li>Synced Bool parameters (1 bit) can be created using the same Float parameters objects used in Animator As Code,
through Modular Avatar Parameters.</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> ctrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewAnimatorController</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> fx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ctrl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewLayer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> toggleFloatParameter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"MyToggle"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"MotionTime"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewBlendTree</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Simple1D</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">toggleFloatParameter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Toggling</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myObject</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAnimation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">aac</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewClip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Toggling</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myObject</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithWriteDefaultsSetTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Create a new object in the scene. We will add Modular Avatar components inside it.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name keyword" style="color:#00009f">var</span><span class="token plain"> modularAvatar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MaAc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">holder</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// By creating a Modular Avatar Merge Animator component,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// our animator controller will be added to the avatar's FX layer.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modularAvatar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewMergeAnimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctrl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> VRCAvatarDescriptor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">AnimLayerType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">FX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// We use a float in the animator blend tree, but we declare it as a bool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// so that it takes 1 bit in the expression parameters.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// By default, it is saved and synced.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modularAvatar</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewBoolToFloatParameter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">toggleFloatParameter</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithDefaultValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples-updated-with-ndmf-integration">Examples updated with NDMF integration<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#examples-updated-with-ndmf-integration" class="hash-link" aria-label="Direct link to Examples updated with NDMF integration" title="Direct link to Examples updated with NDMF integration">​</a></h2>
<p>The documentation includes an example on how to integrate with Non-Destructive Modular Framework using a plugin.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-in-v110-compared-to-v1099xx">Changes in V1.1.0 compared to V1.0.99xx<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#changes-in-v110-compared-to-v1099xx" class="hash-link" aria-label="Direct link to Changes in V1.1.0 compared to V1.0.99xx" title="Direct link to Changes in V1.1.0 compared to V1.0.99xx">​</a></h2>
<p>Animator As Code V1.1.0 contains breaking changes compared to Animator As Code (Alpha) V1.0.99xx.</p>
<p>This list does not contain the breaking changes between V0 and V1, please see the <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/migrating-v0-to-v1">migration guide</a> for this.</p>
<p>Compared to 1.0.99xx:</p>
<ul>
<li>Commit breaking changes to fix inconsistencies in the API:<!-- -->
<ul>
<li>⚡ (BREAKING) AacFlController.AnimatorController is no longer settable.</li>
<li>⚡ (BREAKING) Replace public readonly fields with get-only properties.</li>
<li>⚡ (BREAKING) Rename AacFlSettingObjectReferenceKeyframes to AacFlSettingKeyframesObjectReference.</li>
<li>⚡ (BREAKING) Make constructors non-public.<!-- -->
<ul>
<li>WARNING: The AacFlSettingKeyframes constructor will be made private/internal in V1.2.0.</li>
<li>For compatibility reasons it remains public for the duration of V1.1.x.</li>
</ul>
</li>
</ul>
</li>
<li>Fix inconsistencies in the API:<!-- -->
<ul>
<li>Rename AacFlState.WithMotionTime to AacFlState.MotionTime.</li>
<li>Rename *Percent to *Normalized.</li>
<li>Add additional single-valued and array overloads.</li>
<li>Make Component[] methods null-element safe.</li>
<li>Add AacFlSettingCurveObjectReference.WithUnit to be on-par with AacFlSettingCurve.</li>
<li>Add AacFlSettingCurveColor.WithUnit to be on-par with AacFlSettingCurve.</li>
</ul>
</li>
<li>Inline documentation pass.</li>
<li>Update LICENSE: Add galister for major contributions.</li>
<li>Accomodate new VRCAnimatorPlayAudio requirements:<!-- -->
<ul>
<li>Nodes need to know the Animator Root, so that relative paths can be resolved during the creation of State behaviours (i.e. Relative path of an AudioSource).</li>
<li>Nodes need to have the ability to create a New Behaviour, even if one already exists.</li>
</ul>
</li>
<li>Functional fixes:<!-- -->
<ul>
<li>Fix AacFlState.WithCycleOffset(AacFlFloatParameter floatParam) now correctly enables the parameter.</li>
<li>Fix Any state transitions will be created from SSMs:<!-- -->
<ul>
<li>Due to an implementation error, creating Any state transitions previously did not have any effect in the graph.</li>
<li>This now creates Any state from the root machine.</li>
<li>Sub-state machines "cannot" have Any state transitions created directly from them.</li>
<li>Internally, Any always comes from the root state machine, but visually in the graph, it will come from the sub-state machine.</li>
</ul>
</li>
<li>Make sure State and SSM names don't contain a period '.':<!-- -->
<ul>
<li>If the name of a state contains a period ".", it can cause the animator to misbehave, so sanitize it.</li>
<li>Transitions would not work properly during the runtime execution of the animator.</li>
<li>Apparently this is because sub state machines internally use the dot as a separator.</li>
<li>Sanitize the name so that menu state names such as "J. Inner" don't mess things up.</li>
</ul>
</li>
<li>Fix calling Or() after TransitionsFromEntry().When(...) no longer fails:<!-- -->
<ul>
<li>Calling Or() after TransitionsFromEntry().When(...) used to fail due to an unexpected internal state.</li>
<li>This was due to the implicit conversion operator, which converted a null AnimationState to a AacTransitionEndpoint containing null in it.</li>
<li>Fix this by returning null in the implicit conversion operators.</li>
</ul>
</li>
</ul>
</li>
<li>Add AacAccessorForExtensions:<!-- -->
<ul>
<li>Add static class AacAccessorForExtensions:<!-- -->
<ul>
<li>Provides methods for use by extension functions, exposing methods departing from normal fluent interface usage.</li>
</ul>
</li>
<li>Prepare to make methods marked "Not for public use" private starting from V1.2.0.</li>
<li>Due to their active use in other packages, it is not immediately private.</li>
</ul>
</li>
</ul>
<p>Other notes:</p>
<ul>
<li>Generated assets will now be created with the following prefix: "zAutogenerated/", which may group the animations together in some editor views.<!-- -->
<ul>
<li>This change is a derivative of a suggestion by <a href="https://github.com/nullstalgia" target="_blank" rel="noopener noreferrer">nullstalgia</a> in the CGE repository.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-breaking-changes-in-v120">Future breaking changes in V1.2.0<a href="https://docs.hai-vr.dev/updates/2024/08/21/p0#future-breaking-changes-in-v120" class="hash-link" aria-label="Direct link to Future breaking changes in V1.2.0" title="Direct link to Future breaking changes in V1.2.0">​</a></h2>
<ul>
<li>The AacFlSettingKeyframes constructor will be made private/internal in V1.2.0.<!-- -->
<ul>
<li>For compatibility reasons it remains public for the duration of V1.1.x.</li>
<li>It is already marked as obsolete in V1.1.x.</li>
</ul>
</li>
<li>The methods AacFlBase.InternalConfiguration and AacFlBase.InternalDoCreateLayer will be made private/internal in V1.2.0.<!-- -->
<ul>
<li>For compatibility reasons it remains public for the duration of V1.1.x.</li>
<li>It is already marked as obsolete in V1.1.x.</li>
<li>The class AacAccessorForExtensions replaces it.</li>
</ul>
</li>
</ul>
<p>These are likely going to be the last breaking change in V1's lifetime.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ ComboGestureExpressions V3.2.2]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/18/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/18/p0</guid>
            <pubDate>Sun, 18 Aug 2024 20:00:00 GMT</pubDate>
            <description><![CDATA[- Phase out using internal Animator As Code classes.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Phase out using internal Animator As Code classes.</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Auto-reset OSC config V1.1.5]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/17/p1</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/17/p1</guid>
            <pubDate>Sat, 17 Aug 2024 05:10:00 GMT</pubDate>
            <description><![CDATA[- Allow installation with VRChat 3.7.x]]></description>
            <content:encoded><![CDATA[<ul>
<li>Allow installation with VRChat 3.7.x</li>
<li>If there are no bugs reported with VRChat OSC config capabilities for a few months following the August 2024 update,
this package will be updated with no code and obsoleted.</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ ComboGestureExpressions V3.2.1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/17/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/17/p0</guid>
            <pubDate>Sat, 17 Aug 2024 05:00:00 GMT</pubDate>
            <description><![CDATA[- Allow installation with VRChat Avatars SDK 3.7.x]]></description>
            <content:encoded><![CDATA[<ul>
<li>Allow installation with VRChat Avatars SDK 3.7.x</li>
<li>Allow installation with Animator As Code 1.1.x</li>
<li>Allow installation with Visual Expressions Editor 2.x</li>
<li>Allow installation with Animation Viewer 2.x</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Prefabulous for VRM V2.0.1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/15/p4</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/15/p4</guid>
            <pubDate>Thu, 15 Aug 2024 22:01:00 GMT</pubDate>
            <description><![CDATA[- Compilation should no longer fail in non-VRChat projects that still have the VRCSDKVRCSDK3 scripting define around.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Compilation should no longer fail in non-VRChat projects that still have the <code>VRC_SDK_VRCSDK3</code> scripting define around.<!-- -->
<ul>
<li>Components now extend VRChat's <code>IEditorOnly</code> class only if the VRChat Avatars SDK is installed.</li>
</ul>
</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Prefabulous Universal V2.0.3]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/15/p3</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/15/p3</guid>
            <pubDate>Thu, 15 Aug 2024 22:00:00 GMT</pubDate>
            <description><![CDATA[- Compilation should no longer fail in non-VRChat projects that still have the VRCSDKVRCSDK3 scripting define around.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Compilation should no longer fail in non-VRChat projects that still have the <code>VRC_SDK_VRCSDK3</code> scripting define around.<!-- -->
<ul>
<li>Components now extend VRChat's <code>IEditorOnly</code> class only if the VRChat Avatars SDK is installed.</li>
</ul>
</li>
<li>Delete Polygons should now run before AAO.</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Blendshape Viewer V2.1.2]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/15/p2</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/15/p2</guid>
            <pubDate>Thu, 15 Aug 2024 05:00:00 GMT</pubDate>
            <description><![CDATA[- Fix layout errors should no longer be produced when the search returns 0 results.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Fix layout errors should no longer be produced when the search returns 0 results.</li>
<li>Prevents the editor from hanging up when the user mistakenly pastes a page long of unrelated content in the search field.<!-- -->
<ul>
<li>The search query is now limited to 100 characters max.</li>
</ul>
</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Property Finder V2.0.4]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/15/p1</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/15/p1</guid>
            <pubDate>Thu, 15 Aug 2024 04:00:00 GMT</pubDate>
            <description><![CDATA[- Prevents the editor from hanging up when the user mistakenly pastes a page long of unrelated content in the search field.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Prevents the editor from hanging up when the user mistakenly pastes a page long of unrelated content in the search field.<!-- -->
<ul>
<li>The search query is now limited to 100 characters max.</li>
</ul>
</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[✨ Animation Viewer V2.1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/08/15/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/08/15/p0</guid>
            <pubDate>Thu, 15 Aug 2024 03:00:00 GMT</pubDate>
            <description><![CDATA[- Add support for CTRL-K Unity Search window.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Add support for CTRL-K Unity Search window.</li>
<li>The "Animation Viewer" search provider must be enabled in that CTRL-K search window (three dots at the top right).</li>
<li>Animation clips will show up in double in that Search window, as this version does not modify the stock Project search provider.</li>
<li>The prefix <code>anim:&lt;your search query&gt;</code> may be used in your search query to only show <em>Animation Viewer</em> results.</li>
</ul>
<video controls="" width="816"><source src="/assets/medias/2024-08-15-p0-rvnD2iDbIn-3eac5840ade21d9e53e0605c90fc7362.mp4"></video>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[🧪 Knowledge sharing "Nochat" devlog]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/28/p0-ks</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/28/p0-ks</guid>
            <pubDate>Sun, 28 Jul 2024 07:00:00 GMT</pubDate>
            <description><![CDATA[A new knowledge sharing devlog has been published, "Nochat".]]></description>
            <content:encoded><![CDATA[<p>A new knowledge sharing devlog has been published, "Nochat".</p>
<p>In <a href="https://docs.hai-vr.dev/docs/research/nochat">the <em>Nochat</em> research page</a>, you can read about my attempts to run VRChat prefabs with the Unity Editor in VR, without the VRChat SDK installed.</p>
<video controls="" width="816"><source src="/assets/medias/nochat-f2-6213d7eb6a41dfa8e318f6a7298bc40b.mp4"></video>
<video controls="" width="816"><source src="/assets/medias/saccflight-novrc-f2-904f8253af889f6d746721aea3553aff.mp4"></video>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ LetMeSee V1.1.3]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/24/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/24/p0</guid>
            <pubDate>Wed, 24 Jul 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[- Continue rendering when Play Mode is paused:]]></description>
            <content:encoded><![CDATA[<ul>
<li>Continue rendering when Play Mode is paused:<!-- -->
<ul>
<li>When the Editor is paused, continue rendering in the HMD as if it was not paused.</li>
<li>This allows the user to continue viewing the scene in VR while objects are frozen in place (i.e. physically simulated hair).</li>
</ul>
</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ LetMeSee V1.1.2]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/23/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/23/p0</guid>
            <pubDate>Tue, 23 Jul 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[- Add language selector.]]></description>
            <content:encoded><![CDATA[<ul>
<li>Add language selector.</li>
<li>Add machine-translated Japanese localization file, translated using ChatGPT.</li>
<li>Add machine-translated Korean localization file, translated using ChatGPT.</li>
</ul>
<p><em>Versions 1.1.0 and 1.1.1 contain errors.</em></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Animation Viewer V2.0.4]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/22/p1</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/22/p1</guid>
            <pubDate>Mon, 22 Jul 2024 11:00:00 GMT</pubDate>
            <description><![CDATA[- Fix null dereference when multiple Project tabs are open:]]></description>
            <content:encoded><![CDATA[<ul>
<li>Fix null dereference when multiple Project tabs are open:<!-- -->
<ul>
<li>Check for a null value in listArea, which may happen when multiple Project tabs are open.</li>
</ul>
</li>
<li>Fix inconsistent use of GUILayout ScrollView:<!-- -->
<ul>
<li>Change EditorGUILayout to GUILayout for ScrollView.</li>
</ul>
</li>
</ul>
<p>The above changes have been contributed by <strong><a href="https://github.com/mekanyanko" target="_blank" rel="noopener noreferrer">mekanyanko (めかにゃんこ)</a></strong> (first contribution).</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[☀️ LetMeSee (LMS)]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/22/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/22/p0</guid>
            <pubDate>Mon, 22 Jul 2024 03:00:00 GMT</pubDate>
            <description><![CDATA[I am releasing LetMeSee (LMS), a tool that lets you see your content in VR, with the Unity Editor in Edit Mode.]]></description>
            <content:encoded><![CDATA[<div><p><span></span></p><div class="hai_tag_ZcC4 hai_tag_universal_aJnK">🌊 Any Platform</div><p></p></div>
<p>I am releasing <strong>LetMeSee</strong> (LMS), a tool that lets you see your content in VR, with the Unity Editor in Edit Mode.</p>
<p>The Scene tab is used as the camera viewpoint. You can use this to fly through avatars and worlds.</p>
<p>This product is released for free.</p>
<p>🗒️ <a href="https://docs.hai-vr.dev/docs/products/let-me-see">Open documentation</a></p>
<video controls="" width="816"><source src="/assets/medias/lms1-f-33821c9f4bbd52122d0247b889020336.mp4"></video>
<p><em>Using LMS for worlds and level design.</em></p>
<video controls="" width="816"><source src="/assets/medias/lms0-f-42eadf88abce9ab9fb5750643d35e006.mp4"></video>
<p><em>Using LMS for avatars.</em></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚠️ Advance notice for Animator As Code V1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/07/02/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/07/02/p0</guid>
            <pubDate>Tue, 02 Jul 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Hello,]]></description>
            <content:encoded><![CDATA[<p>Hello,</p>
<p>In February 2022, I had released <em>Animator As Code</em> version 0 (V0).</p>
<p>During 2023, I had started to move towards <em>Animator As Code</em> to version 1 (V1), in order to do the following breaking changes:</p>
<ul>
<li>Pull major contributions from <a href="https://github.com/galister" target="_blank" rel="noopener noreferrer"><strong>@galister</strong></a> which:<!-- -->
<ul>
<li><strong>Adds support for sub-state machines</strong>, which is important because it enables the creation of states that evaluate multiple transitions within one frame,
which is not possible to do without sub-state machines (with one exception).<!-- -->
<ul>
<li>This trait is already extensively used in <em>ComboGestureExpressions V2</em> and above.</li>
</ul>
</li>
<li>Share functionality of state and sub-state machines.</li>
<li>Share functionality of Int and Float parameters together.</li>
</ul>
</li>
<li>Make it usable in <strong>non-VRChat</strong> avatar projects.<!-- -->
<ul>
<li>VRChat-related functionality is now exposed as extension functions in a separate package.</li>
<li>Also, separate destructive functions and non-destructive functions.</li>
<li>Since this no longer requires a VRChat project, this also means it may now be usable in VRChat world projects.</li>
</ul>
</li>
<li>Make it more usable in non-destructive components.<!-- -->
<ul>
<li>It is already in use in <em>Prefabulous</em> and <em>Vixen</em>.</li>
</ul>
</li>
<li>Move to packages, for distribution using VCC (and now, ALCOM).</li>
</ul>
<p>My own projects, such as <em>ComboGestureExpressions</em> V3, <em>Vixen</em>, and <em>Prefabulous for VRChat</em>, already use <em>Animator As Code</em> V1.</p>
<p>The project has stalled for long enough, I think it's finally time to give it the last push for release.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="v0-and-v1-can-be-installed-in-the-same-project">V0 and V1 can be installed in the same project<a href="https://docs.hai-vr.dev/updates/2024/07/02/p0#v0-and-v1-can-be-installed-in-the-same-project" class="hash-link" aria-label="Direct link to V0 and V1 can be installed in the same project" title="Direct link to V0 and V1 can be installed in the same project">​</a></h2>
<p>One of the goals of <em>Animator As Code</em> V1 is to <strong>preserve the ability for V0 and V1 to be installed in the same project</strong>,
as <em>Animator As Code</em> V0 is currently being used in the wild.</p>
<p>Therefore, installing <em>Animator As Code</em> V1 will not interfere with <em>Animator As Code</em> V0.</p>
<p>Even then, <em>Animator As Code</em> V0 and V1 are almost identical in syntax, so <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/migrating-v0-to-v1">migrating from V0 and V1 should not be a challenge</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="there-may-be-some-breaking-changes-during-the-beta">There may be some breaking changes during the beta<a href="https://docs.hai-vr.dev/updates/2024/07/02/p0#there-may-be-some-breaking-changes-during-the-beta" class="hash-link" aria-label="Direct link to There may be some breaking changes during the beta" title="Direct link to There may be some breaking changes during the beta">​</a></h2>
<p><em>Animator As Code V1</em> will be entering a beta phase before release, which should ideally last a month.</p>
<p>Beta versions of <em>Animator As Code</em> V1 will only be available as <strong>pre-release packages</strong>, and they may contain breaking changes between two beta versions.</p>
<p>The objective of the Beta is to capture the last inconsistencies in the API, including naming conventions, method signatures, exposed functions and classes,
public fields vs public properties, etc. It will also be to complete the documentation, both on this site, and inline documentation.</p>
<p>After <em>Animator As Code</em> V1 comes out of beta in 1.1.0, there should not be any more breaking changes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="https://docs.hai-vr.dev/updates/2024/07/02/p0#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<ul>
<li>As mentioned before, you can create <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/base#layer-aacfllayer"><strong>sub-state machines</strong></a>.</li>
<li>It is now possible to build Unity <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/base#blend-trees-aacflblendtree"><strong>BlendTree</strong> assets using a fluent interface</a>.</li>
<li><em>Animator As Code for VRChat</em> supports for <strong>VRCAnimatorPlayAudio</strong> through the <code>AacFlState.Audio(AudioSource or string, ...)</code> function,
<a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/vrchat#audio-editing-aacvrcfleditanimatorplayaudio">which takes a lambda expression as a parameter</a>.</li>
<li>As <em>VRCAvatarParameterDriver</em> has evolved over the years, you can now build multiple <strong>VRCAvatarParameterDriver</strong> behaviours on the same state
through the <code>AacFlState.Driving(...)</code> function, <a href="https://docs.hai-vr.dev/docs/products/animator-as-code/functions/vrchat#driver-editing-aacvrcfleditavatarparameterdriver">which takes a lambda expression as a parameter</a>.</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Prefabulous Universal V2.0.2]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/06/30/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/06/30/p0</guid>
            <pubDate>Sun, 30 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Fix Assign UV Tile "Entire Mesh" no longer fails to process meshes that were set to EditorOnly.]]></description>
            <content:encoded><![CDATA[<p>Fix Assign UV Tile "Entire Mesh" no longer fails to process meshes that were set to EditorOnly.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Prefabulous Universal V2.0.1]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/06/29/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/06/29/p0</guid>
            <pubDate>Sat, 29 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Hide all Prefabulous icons from the scene in Unity 2022 or above.]]></description>
            <content:encoded><![CDATA[<p>Hide all Prefabulous icons from the scene in Unity 2022 or above.</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Lightbox Viewer V2.2.0]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/06/20/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/06/20/p0</guid>
            <pubDate>Thu, 20 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[This update tries to improve Lightbox Viewer speed in Edit mode, especially in avatar setups where there may be a lot of non-destructive components]]></description>
            <content:encoded><![CDATA[<p>This update tries to improve Lightbox Viewer speed in Edit mode, especially in avatar setups where there may be a lot of non-destructive components
which have code that runs when that component is destroyed.</p>
<p>There are no speed improvements in Play mode.</p>
<p>🔍 <a href="https://docs.hai-vr.dev/docs/changelogs/lightbox-viewer#220">View changelog</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ Auto-reset OSC config V1.1.4]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/06/16/p1</link>
            <guid>https://docs.hai-vr.dev/updates/2024/06/16/p1</guid>
            <pubDate>Sun, 16 Jun 2024 17:00:00 GMT</pubDate>
            <description><![CDATA[- Allow installation with VRChat Avatars SDK 3.6.x]]></description>
            <content:encoded><![CDATA[<ul>
<li>Allow installation with VRChat Avatars SDK 3.6.x</li>
</ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[⚙️ ComboGestureExpressions V3.2.0]]></title>
            <link>https://docs.hai-vr.dev/updates/2024/06/16/p0</link>
            <guid>https://docs.hai-vr.dev/updates/2024/06/16/p0</guid>
            <pubDate>Sun, 16 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[- Allow installation with VRChat Avatars SDK 3.6.x]]></description>
            <content:encoded><![CDATA[<ul>
<li>Allow installation with VRChat Avatars SDK 3.6.x</li>
<li>Remove the Beta label.</li>
<li>Attempt to fix "The script class couldn't be found" when adding curve keys.</li>
<li>Fix Eye Tracking toggle now uses Write Defaults setting.</li>
</ul>]]></content:encoded>
        </item>
    </channel>
</rss>
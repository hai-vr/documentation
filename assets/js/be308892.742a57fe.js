"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[86620],{64911:(a,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>h,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>_});var t=i(74848),s=i(28453),r=i(89618),n=i(85041),c=i(66926);const o={sidebar_position:20},h="Face tracking",l={id:"basis/avatar-customization/face-tracking/index",title:"Face tracking",description:"There is a rudimentary implementation of face tracking avatars in Basis, which I have made to help dooly test out avatar networking packet",source:"@site/docs/basis/avatar-customization/face-tracking/index.md",sourceDirName:"basis/avatar-customization/face-tracking",slug:"/basis/avatar-customization/face-tracking/",permalink:"/docs/basis/avatar-customization/face-tracking/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"basisSidebar",previous:{title:"Avatar Customization (HVR)",permalink:"/docs/basis/avatar-customization/"},next:{title:"Vixxy",permalink:"/docs/basis/avatar-customization/vixxy/"}},d={},_=[{value:"Set up your avatar",id:"set-up-your-avatar",level:2},{value:"Testing",id:"testing",level:2}];function m(a){const e={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...a.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"face-tracking",children:"Face tracking"}),"\n",(0,t.jsx)(r.w,{children:(0,t.jsx)(n.F,{requiresBasis:!0})}),"\n",(0,t.jsx)(e.p,{children:"There is a rudimentary implementation of face tracking avatars in Basis, which I have made to help dooly test out avatar networking packet\ncommunications using a real scenario."}),"\n",(0,t.jsx)(e.p,{children:"This requires the VRCFaceTracking software."}),"\n",(0,t.jsx)(e.p,{children:"This guide assumes you're already familiar with VRCFaceTracking and your own hardware."}),"\n",(0,t.jsx)(e.h2,{id:"set-up-your-avatar",children:"Set up your avatar"}),"\n",(0,t.jsx)(c.U,{src:"./img/ShWakJTG9n.mp4",halfWidth:!0}),"\n",(0,t.jsx)(e.p,{children:"To set up your avatar:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Create a new GameObject inside your avatar. Give it a name of your choice, like ",(0,t.jsx)(e.em,{children:"FaceTracking"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Add the ",(0,t.jsx)(e.strong,{children:"Automatic Face Tracking"})," component."]}),"\n",(0,t.jsxs)(e.li,{children:["In the inspector of the ",(0,t.jsx)(e.em,{children:"Automatic Face Tracking"})," component, press the ",(0,t.jsx)(e.em,{children:'"Create VRCFaceTracking JSON file"'})," button."]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["When you added the ",(0,t.jsx)(e.em,{children:"Automatic Face Tracking"})," component, it should have added a prefab in your avatar called ",(0,t.jsx)(e.em,{children:"HVR.Networking"}),".\nThis component is responsible for the network communication of your avatar. Keep this prefab at the root."]}),"\n",(0,t.jsxs)(e.p,{children:["The setup is complete. ",(0,t.jsx)(e.em,{children:"Automatic Face Tracking"})," will detect all meshes on the avatar that have face tracking blendshapes\nwhich follow either the ",(0,t.jsx)(e.em,{children:"ARKit"})," or the ",(0,t.jsx)(e.a,{href:"https://docs.vrcft.io/docs/tutorial-avatars/tutorial-avatars-extras/unified-blendshapes",children:(0,t.jsx)(e.em,{children:"Unified Expressions"})}),"\nnaming conventions."]}),"\n",(0,t.jsxs)(e.admonition,{type:"danger",children:[(0,t.jsx)(e.p,{children:"The face tracking implementation does not use the Animator system."}),(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Do not use face tracking animator templates designed for VRC"}),", they won't do anything and might even interfere with\nthe operation as the execution order is not explicitly defined."]}),(0,t.jsx)(e.p,{children:"Face tracking is interpolated by default for remote users (\u2248 smoothed)."})]}),"\n",(0,t.jsx)(e.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(e.p,{children:"To test your avatar before building it:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.em,{children:"Make sure you don't have any other social VR application currently running, as other apps may capture the face tracking data."})}),"\n",(0,t.jsx)(e.li,{children:"Start VRCFaceTracking."}),"\n",(0,t.jsxs)(e.li,{children:["Enter Play Mode, and in the ",(0,t.jsx)(e.em,{children:"Basis Avatar"})," component at the root of your avatar, press the ",(0,t.jsx)(e.strong,{children:"Test in Editor"})," button."]}),"\n",(0,t.jsxs)(e.li,{children:["If everything worked, the VRCFaceTracking software should now say that it detected an avatar called ",(0,t.jsx)(e.em,{children:"HVR.Basis Fake Client"}),"."]}),"\n",(0,t.jsx)(e.li,{children:"Wear your headset and look at your own avatar's face, see how it moves."}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"When you load into your avatar, the following thing will happen:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Basis will create an OSC server on port 9000 and then send a message to port 9001 (where VRCFaceTracking is running),\ntelling it that the avatar has changed. Old versions of VRCFaceTracking will react to that message."}),"\n",(0,t.jsx)(e.li,{children:"We will also start a fake OSCQuery server on a random port. The Steam version of VRCFaceTracking will detect this OSCQuery server."}),"\n",(0,t.jsx)(e.li,{children:"VRCFaceTracking will start to communicate with Basis by sending face tracking parameters."}),"\n",(0,t.jsxs)(e.li,{children:["You should see the following in the VRCFaceTracking window if this is successful:\n",(0,t.jsx)(e.img,{alt:"basisfakeclient.png",src:i(36485).A+"",width:"702",height:"252"})]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Then in the scene view, look at your own avatar's face, see how it moves."})]})}function u(a={}){const{wrapper:e}={...(0,s.R)(),...a.components};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(m,{...a})}):m(a)}},85041:(a,e,i)=>{i.d(e,{F:()=>n});i(96540);var t=i(20053);const s={hai_tag:"hai_tag_ZcC4",hai_tag_requires_vrchat:"hai_tag_requires_vrchat_kYpu",hai_tag_requires_resonite:"hai_tag_requires_resonite_AvzK",hai_tag_requires_basis:"hai_tag_requires_basis_QHoe",hai_tag_requires_chilloutvr:"hai_tag_requires_chilloutvr_mrre",hai_tag_requires_vrm:"hai_tag_requires_vrm_wBUl",hai_tag_compatible_with_vsfavatar:"hai_tag_compatible_with_vsfavatar_gZ5Q",hai_tag_compatible_with_vnyan:"hai_tag_compatible_with_vnyan_N46H",hai_tag_compatible_with_warudo:"hai_tag_compatible_with_warudo_YAVq",hai_tag_compatible_with_beatsaber:"hai_tag_compatible_with_beatsaber_Osd6",hai_tag_requires_steamvr:"hai_tag_requires_steamvr_stxM",hai_tag_universal:"hai_tag_universal_aJnK",hai_tag_not_compatible_with_gltf:"hai_tag_not_compatible_with_gltf_wSoo",hai_tag_supporter:"hai_tag_supporter_xAw7",hai_tag_misc:"hai_tag_misc_X_eB"};var r=i(74848);function n(a){let{requiresVRChat:e,isUniversal:i,requiresBasis:n,notVRChat:c,requiresResonite:o,requiresSteamVR:h,requiresChilloutVR:l,requiresVRM:d,compatibleWithVSFAvatar:_,compatibleWithVSeeFace:m,compatibleWithWarudo:u,compatibleWithBeatSaber:g,compatibleWithPhotoshop:p,compatibleWithGIMP:v,requiresWarudo:x,notCompatibleWithGltf:j,compatibleWithVNyan:f,short:w,supporter:b}=a,k=w?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:"Compatible with "}),y=w?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:"Requires "});return(0,r.jsxs)("span",{children:[e?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_vrchat),children:["\ud83d\udcac ",y,(0,r.jsx)("span",{className:"notranslate",children:"VRChat"})]}):"",o?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_resonite),children:["\u26a1 ",y,(0,r.jsx)("span",{className:"notranslate",children:"Resonite"})]}):"",n?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_basis),children:["\ud83d\udd3a ",y,(0,r.jsx)("span",{className:"notranslate",children:"Basis"})]}):"",d?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_vrm),children:["\ud83d\udcf9 ",y,(0,r.jsx)("span",{className:"notranslate",children:"VRM"})]}):"",h?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_steamvr),children:[y,(0,r.jsx)("span",{className:"notranslate",children:"SteamVR"})]}):"",l?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_requires_chilloutvr),children:["\ud83c\udf06 ",y,(0,r.jsx)("span",{className:"notranslate",children:"ChilloutVR"})]}):"",_?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_vsfavatar),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"VSFAvatar"})]}):"",m?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_vsfavatar),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"VSeeFace"})]}):"",f?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_vnyan),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"VNyan"})]}):"",u?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_warudo),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"Warudo"})]}):"",g?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_beatsaber),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"Beat Saber"})]}):"",j?(0,r.jsx)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_not_compatible_with_gltf),children:"\ud83d\udeab Not compatible with GLB/GLTF format"}):"",x?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_compatible_with_warudo),children:["\ud83d\udcf9 ",y,(0,r.jsx)("span",{className:"notranslate",children:"Warudo"})]}):"",i?(0,r.jsx)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_universal),children:"\ud83c\udf0a Any Platform"}):"",c?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_universal),children:["\ud83c\udf0a Any Platform, except ",(0,r.jsx)("span",{className:"notranslate",children:"VRChat"})]}):"",b?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_supporter),children:["\u2b50 All Supporter tiers ",(0,r.jsx)("a",{href:"https://www.patreon.com/vr_hai",children:"(5\u20ac+)"})]}):"",p?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_misc),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"Photoshop 2024"})]}):"",v?(0,r.jsxs)("div",{className:(0,t.A)(s.hai_tag,s.hai_tag_misc),children:[k,(0,r.jsx)("span",{className:"notranslate",children:"GIMP"})]}):""]})}},89618:(a,e,i)=>{i.d(e,{w:()=>s});i(96540);var t=i(74848);function s(a){let{children:e}=a;return(0,t.jsx)("div",{children:(0,t.jsx)("p",{children:e})})}},66926:(a,e,i)=>{i.d(e,{U:()=>n});i(96540);var t=i(74848);const s="https://large.docs.cdn.hai-vr.dev",r=s+"/assets/docs/";function n(a){const e=null!=a.cdn?s+a.cdn:r+a.src.substring(a.src.lastIndexOf("/")+1);return(0,t.jsx)("video",{controls:!0,muted:!a.sound,width:a.autoWidth?"auto":a.halfWidth?"408":"816",loop:a.loop,children:(0,t.jsx)("source",{src:e})})}},36485:(a,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/basisfakeclient-0913af0f86b9870fc4602ba48cc11a3b.png"}}]);
"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[65461],{21479:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>h,toc:()=>c});var s=n(74848),t=n(28453),r=n(66926);const o={},a="Physics Animation",h={id:"hvr/core/physics-animation",title:"Physics Animation",description:"Avatars can be affected by physics interactions using Physics Animation. This is also known as powered ragdolls or a control rig.",source:"@site/docs/hvr/core/physics-animation.md",sourceDirName:"hvr/core",slug:"/hvr/core/physics-animation",permalink:"/docs/hvr/core/physics-animation",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"hvrSidebar",previous:{title:"Inverse Kinematics",permalink:"/docs/hvr/core/ik"},next:{title:"Structure",permalink:"/docs/hvr/core/structure"}},l={},c=[{value:"Applying Physics Animation",id:"applying-physics-animation",level:2}];function d(e){const i={a:"a",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"physics-animation",children:"Physics Animation"}),"\n","\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"Avatars"})," can be affected by physics interactions using Physics Animation. This is also known as ",(0,s.jsx)(i.em,{children:"powered ragdolls"})," or a ",(0,s.jsx)(i.em,{children:"control rig"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"Physics Animation"})," modifies the characteristics of rigidbodies and applies forces on individual rigidbodies and joints of a ragdoll\nto make it match a pose."]}),"\n",(0,s.jsx)(i.p,{children:"In HVR, by default, the pose comes from the result of an IK solver, but that pose may come from an animation being played."}),"\n",(0,s.jsx)(i.p,{children:"Different characteristics can be applied to different limbs of the ragdoll to produce different responses to physical interactions."}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.em,{children:"Physics Animation"})," components in HVR are heavily inspired by a GDC talk called ",(0,s.jsxs)(i.a,{href:"https://www.youtube.com/watch?v=7S-_vuoKgR4",children:[(0,s.jsx)(i.strong,{children:"Physics Animation in Uncharted 4: A Thief's End"}),"\nby ",(0,s.jsx)(i.em,{children:"Michal Mach"})," presented at GDC 2017"]}),", however, the implementation in HVR is vastly inferior\nto the implementation described in the talk."]}),"\n",(0,s.jsxs)(i.p,{children:["Other VR games like ",(0,s.jsx)(i.a,{href:"https://store.steampowered.com/app/823500/",children:"Boneworks"})," and ",(0,s.jsx)(i.a,{href:"https://store.steampowered.com/app/1294760/",children:"Hard Bullet"}),"\nare notorious for using similar forms of physics animation, so HVR is not unique in this regard."]}),"\n",(0,s.jsx)(r.U,{src:"./img/M0sEtExl9r-f.mp4",halfWidth:!0}),"\n",(0,s.jsx)(r.U,{src:"./img/6CHORI233p-f.mp4",halfWidth:!0}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsxs)(i.em,{children:["Depending on the physics animation profile, the avatar may have a drastically different reaction to physics interactions.",(0,s.jsx)("br",{}),"\nOn the left, the head and the hips try to weakly maintain their position, and the feet are prioritized.",(0,s.jsx)("br",{}),"\nOn the right, the hands are prioritized."]})}),"\n",(0,s.jsx)(i.h2,{id:"applying-physics-animation",children:"Applying Physics Animation"}),"\n",(0,s.jsxs)(i.p,{children:["The main way to control Physics Animation is by setting up an ",(0,s.jsx)(i.em,{children:(0,s.jsx)(i.a,{href:"avatarlike",children:"HVR Avatarlike"})})," component,\nand enabling ",(0,s.jsx)(i.strong,{children:"Use Physics Animation"})," in that component."]}),"\n",(0,s.jsxs)(i.p,{children:["Then, in the hierarchy of the ",(0,s.jsx)(i.em,{children:"HVR Avatarlike"})," object:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Go to ",(0,s.jsx)(i.em,{children:"HVRMultipurposeRig \u2192 HVRIK \u2192 RuntimeTargets"}),". Move and rotate the child targets to define a new pose."]}),"\n",(0,s.jsxs)(i.li,{children:["Go to ",(0,s.jsx)(i.em,{children:"HVRMultipurposeRig \u2192 HVRPhysicsAnimation \u2192 ProfileApplier"}),". In the ",(0,s.jsx)(i.strong,{children:"HVR ProfileAnimationPhysicsApplier"})," component,\nedit the profile settings of each limb to get the physics reaction you need."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Unity_xyY59AVt9L.png",src:n(91069).A+"",width:"665",height:"587"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:'The options highlighted in yellow "H Arms, H Legs, H Body Under Head, and H Body Over Hips" let you modify multiple limbs at once.'})}),"\n",(0,s.jsx)(i.p,{children:"You will have to experiment with the different profiles, but the following ones are the most important:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Normal"}),": The default. Tries to move to the position and world-space rotation, but gets pushed away when a parent or a child moves away."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Complete Stability"}),": Strongly maintains the position and world-space rotation."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Motorized"}),": Configures the joint of the corresponding limb so that the desired angle is the local-space angle relative to the parent."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Motorized in World Space"}),": Configures the joint of the corresponding limb so that the desired angle is the world-space angle."]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"The following ones are situational:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Angular Stability"}),": Strongly maintains the world-space angle, without trying to move the position."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Reactive"}),": A stronger and more reactive version of ",(0,s.jsx)(i.em,{children:"Normal"})," that is still much weaker than ",(0,s.jsx)(i.em,{children:"Complete Stability"}),"; but it may spring back and forth."]}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},66926:(e,i,n)=>{n.d(i,{U:()=>o});n(96540);var s=n(74848);const t="https://large.docs.cdn.hai-vr.dev",r=t+"/assets/docs/";function o(e){const i=null!=e.cdn?t+e.cdn:r+e.src.substring(e.src.lastIndexOf("/")+1);return(0,s.jsx)("video",{controls:!0,muted:!e.sound,width:e.autoWidth?"auto":e.halfWidth?"408":"816",loop:e.loop,children:(0,s.jsx)("source",{src:i})})}},91069:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/Unity_xyY59AVt9L-fccb33c27c73da03597dd167a1d17870.png"}}]);